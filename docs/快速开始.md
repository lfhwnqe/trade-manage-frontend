# Trade Manage Frontend å¿«é€Ÿå¼€å§‹

## é¡¹ç›®ç®€ä»‹

Trade Manage Frontend æ˜¯ä¸€ä¸ªåŸºäº Next.js 15 + TypeScript + Shadcn/ui æ„å»ºçš„ç°ä»£åŒ–ç®¡ç†åå°æ¨¡æ¿ã€‚è¿™ä¸ªé¡¹ç›®é‡‡ç”¨ **Colocation æ¶æ„**ï¼Œä¸ºä½ æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„ä¼ä¸šçº§ç®¡ç†ç³»ç»ŸåŸºç¡€æ¡†æ¶ã€‚

### ğŸš€ æ ¸å¿ƒç‰¹æ€§

- âœ… **Next.js 15 App Router** - æœ€æ–°çš„ React æ¡†æ¶å’Œè·¯ç”±ç³»ç»Ÿ
- âœ… **TypeScript** - å…¨æ ˆç±»å‹å®‰å…¨
- âœ… **Shadcn/ui** - ç°ä»£åŒ–ç»„ä»¶åº“
- âœ… **TanStack Table** - å¼ºå¤§çš„æ•°æ®è¡¨æ ¼
- âœ… **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- âœ… **å¤šä¸»é¢˜æ”¯æŒ** - æ˜æš—æ¨¡å¼ + å¤šç§é¢œè‰²ä¸»é¢˜
- âœ… **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯å‹å¥½
- âœ… **è®¤è¯ç³»ç»Ÿ** - å®Œæ•´çš„ç”¨æˆ·è®¤è¯æ¡†æ¶

## ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 18.0.0
- **åŒ…ç®¡ç†å™¨**: npm (>= 8.0.0) æˆ– yarn (>= 1.22.0)
- **æ“ä½œç³»ç»Ÿ**: macOS, Linux, Windows (æ¨è WSL)

## å®‰è£…å’Œå¯åŠ¨

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <your-repository-url>
cd trade-manage-frontend
```

### 2. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### 3. ç¯å¢ƒé…ç½®

åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```bash
cp .env.example .env.local
```

ç¼–è¾‘ `.env.local` æ–‡ä»¶ï¼š

```bash
# AWS Lambda é…ç½®
AWS_LAMBDA_BASE_URL=https://your-api-gateway-url.amazonaws.com
AWS_API_KEY=your-api-key
AWS_REGION=us-east-1

# åº”ç”¨é…ç½®
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000/api
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## é¡¹ç›®ç»“æ„æ¦‚è§ˆ

```
src/
â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ (main)/            # ä¸»åº”ç”¨å¸ƒå±€ç»„
â”‚   â”‚   â”œâ”€â”€ dashboard/     # ä»ªè¡¨æ¿åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx # ä»ªè¡¨æ¿å¸ƒå±€
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx   # é»˜è®¤ä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ crm/       # CRM æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ finance/   # è´¢åŠ¡æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ [feature]/ # å…¶ä»–åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â””â”€â”€ auth/          # è®¤è¯é¡µé¢
â”‚   â””â”€â”€ api/               # API è·¯ç”±
â”œâ”€â”€ components/            # å…¨å±€å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # åŸå­çº§ UI ç»„ä»¶
â”‚   â””â”€â”€ data-table/       # æ•°æ®è¡¨æ ¼ç»„ä»¶
â”œâ”€â”€ hooks/                # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ lib/                  # å·¥å…·å‡½æ•°
â”œâ”€â”€ stores/               # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ types/                # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ navigation/           # å¯¼èˆªé…ç½®
```

## æ ¸å¿ƒæ¦‚å¿µ

### 1. Colocation æ¶æ„

é¡¹ç›®é‡‡ç”¨ **å°±è¿‘ç»„ç»‡** çš„æ¶æ„æ¨¡å¼ï¼Œæ¯ä¸ªåŠŸèƒ½æ¨¡å—çš„ç›¸å…³æ–‡ä»¶éƒ½æ”¾åœ¨ä¸€èµ·ï¼š

```
src/app/(main)/dashboard/products/
â”œâ”€â”€ page.tsx                    # ä¸»é¡µé¢
â”œâ”€â”€ _components/               # æ¨¡å—ä¸“ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ product-list.tsx
â”‚   â”œâ”€â”€ product-form.tsx
â”‚   â”œâ”€â”€ columns.tsx
â”‚   â””â”€â”€ schema.ts
â””â”€â”€ [id]/                      # å­è·¯ç”±
    â””â”€â”€ page.tsx
```

### 2. æ•°æ®è¡¨æ ¼ç³»ç»Ÿ

åŸºäº TanStack Table v8 æ„å»ºçš„é«˜çº§æ•°æ®è¡¨æ ¼ï¼š

- âœ… æ’åºã€ç­›é€‰ã€åˆ†é¡µ
- âœ… åˆ—å¯è§æ€§æ§åˆ¶
- âœ… æ‹–æ‹½æ’åº
- âœ… æ‰¹é‡æ“ä½œ
- âœ… å“åº”å¼è®¾è®¡

### 3. ä¸»é¢˜ç³»ç»Ÿ

æ”¯æŒå¤šç§ä¸»é¢˜å’Œå¸ƒå±€é…ç½®ï¼š

- **æ˜æš—æ¨¡å¼**: light/dark è‡ªåŠ¨åˆ‡æ¢
- **é¢œè‰²ä¸»é¢˜**: default/tangerine/brutalist/soft-pop
- **å¸ƒå±€é€‰é¡¹**: ä¾§è¾¹æ å˜ä½“ã€å†…å®¹å®½åº¦

### 4. çŠ¶æ€ç®¡ç†

- **Zustand**: ç”¨æˆ·åå¥½è®¾ç½®
- **TanStack Query**: æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†
- **React Hook Form**: è¡¨å•çŠ¶æ€

## 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥ï¼šæŸ¥çœ‹ç°æœ‰åŠŸèƒ½

é¡¹ç›®å·²ç»åŒ…å«äº†å‡ ä¸ªç¤ºä¾‹ä»ªè¡¨æ¿ï¼š

1. **Default Dashboard** - `/dashboard/default`
   - æ•°æ®å›¾è¡¨å±•ç¤º
   - äº¤äº’å¼æ•°æ®è¡¨æ ¼
   - ç»Ÿè®¡å¡ç‰‡

2. **CRM Dashboard** - `/dashboard/crm`
   - å®¢æˆ·ç®¡ç†
   - é”€å”®çº¿ç´¢è·Ÿè¸ª
   - ä¸šåŠ¡æŒ‡æ ‡

3. **Finance Dashboard** - `/dashboard/finance`
   - è´¢åŠ¡æ¦‚è§ˆ
   - æ”¶æ”¯åˆ†æ
   - è´¦æˆ·ç®¡ç†

### ç¬¬äºŒæ­¥ï¼šæ·»åŠ ä½ çš„ç¬¬ä¸€ä¸ªèœå•

ç¼–è¾‘ [`src/navigation/sidebar/sidebar-items.ts`](src/navigation/sidebar/sidebar-items.ts)ï¼š

```typescript
import { Package } from "lucide-react";

export const sidebarItems: NavGroup[] = [
  {
    id: 1,
    label: "ä¸»è¦åŠŸèƒ½",
    items: [
      // æ·»åŠ æ–°èœå•é¡¹
      {
        title: "äº§å“ç®¡ç†",
        url: "/dashboard/products",
        icon: Package,
      },
      // ... å…¶ä»–èœå•é¡¹
    ],
  },
];
```

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå¯¹åº”é¡µé¢

åˆ›å»ºäº§å“ç®¡ç†é¡µé¢ï¼š

```bash
mkdir -p src/app/\(main\)/dashboard/products/_components
```

åˆ›å»ºåŸºç¡€é¡µé¢æ–‡ä»¶ï¼š

```typescript
// src/app/(main)/dashboard/products/page.tsx
export default function ProductsPage() {
  return (
    <div className="space-y-6">
      <div>
        <h1 className="text-2xl font-bold">äº§å“ç®¡ç†</h1>
        <p className="text-muted-foreground">ç®¡ç†æ‚¨çš„äº§å“ä¿¡æ¯</p>
      </div>

      <div className="border rounded-lg p-8 text-center">
        <h2 className="text-lg font-semibold mb-2">å¼€å§‹æ„å»ºæ‚¨çš„äº§å“ç®¡ç†ç³»ç»Ÿ</h2>
        <p className="text-muted-foreground">
          å‚è€ƒ docs/å¼€å‘æŒ‡å—.md å’Œ docs/å®æˆ˜ç¤ºä¾‹.md æ¥æ„å»ºå®Œæ•´åŠŸèƒ½
        </p>
      </div>
    </div>
  );
}
```

### ç¬¬å››æ­¥ï¼šå¯ç”¨è®¤è¯ç³»ç»Ÿï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼š

1. **å¯ç”¨ä¸­é—´ä»¶**ï¼š

   ```bash
   mv src/middleware.disabled.ts src/middleware.ts
   ```

2. **é…ç½®è®¤è¯é€»è¾‘**ï¼š
   æ ¹æ®ä½ çš„åç«¯ API è°ƒæ•´è®¤è¯é€»è¾‘

3. **æµ‹è¯•è®¤è¯æµç¨‹**ï¼š
   è®¿é—® `/auth/v1/login` æˆ– `/auth/v2/login`

## å¸¸ç”¨å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æœåŠ¡å™¨
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start

# ä»£ç æ£€æŸ¥
npm run lint

# ä»£ç æ ¼å¼åŒ–
npm run format

# ç±»å‹æ£€æŸ¥
npm run type-check

# ç”Ÿæˆä¸»é¢˜é¢„è®¾
npm run generate:presets
```

## å¼€å‘å·¥ä½œæµ

### 1. åˆ›å»ºæ–°åŠŸèƒ½æ¨¡å—

```bash
# åˆ›å»ºåŠŸèƒ½ç›®å½•
mkdir -p src/app/\(main\)/dashboard/orders/_components

# åˆ›å»ºåŸºç¡€æ–‡ä»¶
touch src/app/\(main\)/dashboard/orders/page.tsx
touch src/app/\(main\)/dashboard/orders/_components/schema.ts
touch src/app/\(main\)/dashboard/orders/_components/columns.tsx
```

### 2. æ·»åŠ  API è·¯ç”±

```bash
# åˆ›å»º API è·¯ç”±
mkdir -p src/app/api/orders
touch src/app/api/orders/route.ts
```

### 3. æ›´æ–°èœå•é…ç½®

åœ¨ `sidebar-items.ts` ä¸­æ·»åŠ æ–°èœå•é¡¹

### 4. å¼€å‘å’Œæµ‹è¯•

ä½¿ç”¨çƒ­é‡è½½è¿›è¡Œå¿«é€Ÿå¼€å‘å’Œæµ‹è¯•

## æ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿ

### ğŸ“š å­¦ä¹ èµ„æº

- **å¼€å‘æŒ‡å—**: [`docs/å¼€å‘æŒ‡å—.md`](docs/å¼€å‘æŒ‡å—.md) - è¯¦ç»†çš„å¼€å‘æ–‡æ¡£
- **å®æˆ˜ç¤ºä¾‹**: [`docs/å®æˆ˜ç¤ºä¾‹.md`](docs/å®æˆ˜ç¤ºä¾‹.md) - å®Œæ•´çš„å•†å“ç®¡ç†æ¨¡å—ç¤ºä¾‹
- **Next.js æ–‡æ¡£**: [nextjs.org](https://nextjs.org/docs)
- **Shadcn/ui æ–‡æ¡£**: [ui.shadcn.com](https://ui.shadcn.com)

### ğŸ› ï¸ å¼€å‘å»ºè®®

1. **å…ˆçœ‹ç¤ºä¾‹**: æŸ¥çœ‹ç°æœ‰çš„ CRM å’Œ Finance æ¨¡å—äº†è§£é¡¹ç›®ç»“æ„
2. **ä»ç®€å•å¼€å§‹**: åˆ›å»ºåŸºç¡€çš„ CRUD é¡µé¢
3. **é€æ­¥å®Œå–„**: æ·»åŠ ç­›é€‰ã€æœç´¢ã€æ‰¹é‡æ“ä½œç­‰é«˜çº§åŠŸèƒ½
4. **å‚è€ƒæ–‡æ¡£**: é‡åˆ°é—®é¢˜æ—¶æŸ¥çœ‹å¼€å‘æŒ‡å—å’Œå®æˆ˜ç¤ºä¾‹

### ğŸ¯ é¡¹ç›®å®šåˆ¶

- **ä¸»é¢˜é…ç½®**: åœ¨ `src/styles/presets/` æ·»åŠ è‡ªå®šä¹‰ä¸»é¢˜
- **ç»„ä»¶æ‰©å±•**: åœ¨ `src/components/ui/` æ·»åŠ è‡ªå®šä¹‰ç»„ä»¶
- **API é›†æˆ**: é…ç½®ä½ çš„åç«¯ API æˆ– AWS Lambda
- **å›½é™…åŒ–**: æ·»åŠ å¤šè¯­è¨€æ”¯æŒ

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: é¡µé¢æ ·å¼ä¸æ˜¾ç¤º**
A: ç¡®è®¤å·²æ­£ç¡®å¯¼å…¥ Tailwind CSS æ ·å¼ï¼Œæ£€æŸ¥ `globals.css` æ–‡ä»¶

**Q: ä¸­é—´ä»¶ä¸ç”Ÿæ•ˆ**
A: ç¡®è®¤æ–‡ä»¶åä¸º `middleware.ts` è€Œä¸æ˜¯ `middleware.disabled.ts`

**Q: API è¯·æ±‚å¤±è´¥**
A: æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®ï¼Œç¡®è®¤ AWS Lambda ç«¯ç‚¹å¯è®¿é—®

**Q: ç±»å‹é”™è¯¯**
A: è¿è¡Œ `npm run type-check` æ£€æŸ¥ TypeScript é”™è¯¯

### è·å¾—å¸®åŠ©

- æŸ¥çœ‹é¡¹ç›® Issues
- å‚è€ƒ Next.js å’Œ React å®˜æ–¹æ–‡æ¡£
- æ£€æŸ¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ Console å’Œ Network é¢æ¿

---

ğŸ‰ **æ­å–œï¼** ä½ å·²ç»å‡†å¤‡å¥½å¼€å§‹ä½¿ç”¨ Trade Manage Frontend è¿›è¡Œå¼€å‘äº†ã€‚

è®°ä½ï¼Œè¿™ä¸ªé¡¹ç›®æ¨¡æ¿ä¸ºä½ æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„åŸºç¡€ï¼Œä½ å¯ä»¥æ ¹æ®å…·ä½“ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ã€‚ç¥ä½ å¼€å‘æ„‰å¿«ï¼
